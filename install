#!/usr/bin/env zsh

BASEDIR="$(cd "$(dirname "${ZSH_SOURCE[0]}")" && pwd)"

echo "Updating submodules..."
git submodule update --init --recursive --remote

echo "Linking files..."
ln -sf ${BASEDIR}/vim/vim/ ~/.vim
ln -sf ${BASEDIR}/vim/vimrc ~/.vimrc
ln -sf ${BASEDIR}/vim/gvimrc ~/.gvimrc

ln -sf ${BASEDIR}/zsh/zsh/ ~/.zsh
ln -sf ${BASEDIR}/zsh/zprofile ~/.zprofile
ln -sf ${BASEDIR}/zsh/zshenv ~/.zshenv
ln -sf ${BASEDIR}/zsh/zshrc ~/.zshrc

ln -sf ${BASEDIR}/tmux/tmux.conf ~/.tmux.conf

ln -sf ${BASEDIR}/git/gitconfig ~/.gitconfig
ln -sf ${BASEDIR}/ag/agignore ~/.agignore

echo "Changing default shell to Zsh"
chsh -s $(which zsh)

echo "Installing Vim plugins ..."
echo | vim +PluginInstall +qall

echo "Source Zsh files"
source ~/.zshrc

echo "Installing atom packages"
apm install --packages-file ./atom/package-list.txt

echo "Installing Fonts..."
git clone https://github.com/powerline/fonts.git ~/Downloads/fonts/ && ~/Downloads/fonts/install.sh
